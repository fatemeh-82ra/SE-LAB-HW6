<div dir="rtl">

  
  # ฺฏุฒุงุฑุด ูุงุฒ ุงูู: ุณุณุชู ูุฏุฑุช ููุดููุฏ ุงูุฑฺ

ุงู ุณูุฏุ ูพุงุฏูโุณุงุฒ "ุณุณุชู ูุฏุฑุช ูพูุง ูุตุฑู ุงูุฑฺ ููุดููุฏ" ุฑุง ุชุดุฑุญ ูโฺฉูุฏ. ุงู ูพุฑูฺู ุจู ุฒุจุงู ุฌุงูุง ู ุจุง ูพุฑู ุงุฒ ูุชุฏูููฺ ุชูุณุนู ูุจุชู ุจุฑ ุขุฒููู (TDD) ุชูุณุนู ุงูุชู ุงุณุช. ุทุฑุงุญ ุงุตู ุจุฑ ูพุงู ุงูฺฏููุง ุทุฑุงุญ **State** ู **Strategy** ุจูุง ุดุฏู ุชุง ุจู ุชุฑุชุจ ูุถุนุช ุงูุฑฺ ุณุงุฎุชูุงู ู ุณุงุณุชโูุง ูุญุงุณุจู ูุฒูู ุฑุง ูุฏุฑุช ฺฉูุฏ.

## ฑ. ูพุงุฏูโุณุงุฒ ุงูฺฏููุง ุทุฑุงุญ
ุฏู ุงูฺฏู ุทุฑุงุญ ฺฉูุฏ ุงุฒ ุฏุณุชู ยซุฑูุชุงุฑยป (Behavioral) GoFุ ุจุฑุง ุณุงุฎุชุงุฑุฏู ููุทู ุจุฑูุงูู ุจู ฺฉุงุฑ ฺฏุฑูุชู ุดุฏูุฏ ุชุง ุงุฒ ุงูุนุทุงูโูพุฐุฑ ู ูพุงุจูุฏ ุจู ุงุตูู SOLID ุงุทููุงู ุญุงุตู ุดูุฏ.

### ุงูฺฏู State
ุงูฺฏู State ฺฉ ุงูฺฏู ุทุฑุงุญ ุฑูุชุงุฑ ุงุณุช ฺฉู ุจู ฺฉ ุดุก ุงุฌุงุฒู ูโุฏูุฏ ููุช ูุถุนุช ุฏุงุฎูโุงุด ุชุบุฑ ูโฺฉูุฏุ ุฑูุชุงุฑุด ุฑุง ูุฒ ุชุบุฑ ุฏูุฏ. ุจู ูุธุฑ ูโุฑุณุฏ ฺฉู ฺฉูุงุณ ุดุก ุชุบุฑ ฺฉุฑุฏู ุงุณุช.

* **ฺุฑุง ุงุณุชูุงุฏู ุดุฏ:** ุณุณุชู ูุฏุฑุช ุงูุฑฺ ูโุชูุงูุฏ ุฏุฑ ฺฉ ุงุฒ ุณู ูุถุนุช ูุฌุฒุง ุจุงุดุฏ: **ูุนุงู (Active)**ุ **ุงูุชุตุงุฏ (Eco Mode)** ุง **ุฎุงููุด (Shutdown)**. ูพุงุณุฎ ุณุณุชู ุจู ุฏุฑุฎูุงุณุชโูุง (ูุงููุฏ ูุดุงูุฏู ูุถุนุช) ู ุฑูุชุงุฑ ุฐุงุช ุขู (ุงูฺฉู ฺฉุฏุงู ุฏุณุชฺฏุงูโูุง ุฑูุดู/ุฎุงููุด ูุณุชูุฏ) ูุณุชููุงู ุจู ูุถุนุช ูุนู ุขู ุจุณุชฺฏ ุฏุงุฑุฏ. ุงู ุงูฺฏู ุงุฒ ุฏุณุชูุฑุงุช ุดุฑุท ุจุฒุฑฺฏ ู ฺฉูพุงุฑฺู (if/else ุง switch) ุฏุฑ ฺฉูุงุณ ุงุตู (Context) ุฌููฺฏุฑ ฺฉุฑุฏู ู ุชูุงู ููุทู ูุฑุจูุท ุจู ูุฑ ูุถุนุช ุฑุง ุจู ฺฉูุงุณโูุง ูุถุนุช ูุฌุฒุง ูุงฺฏุฐุงุฑ ูโฺฉูุฏ.

* **ฺฺฏููู ูพุงุฏูโุณุงุฒ ุดุฏ:**
    * **ูุงุณุท `SystemState`:** ูุงุณุท ฺฉู ูุชุฏูุง ูุดุชุฑฺฉ ุฑุง ฺฉู ุชูุงู ูุถุนุชโูุง ูุดุฎุต ุจุงุฏ ูพุงุฏูโุณุงุฒ ฺฉููุฏุ ุชุนุฑู ูโฺฉูุฏ (`handleStateChange()` ู `getStatus()`).
    * **ฺฉูุงุณโูุง ูุถุนุช ูุดุฎุต:** `ActiveState`ุ `EcoModeState` ู `ShutdownState` ูพุงุฏูโุณุงุฒโูุง ูุดุฎุต ูุณุชูุฏ. ูุฑ ฺฉูุงุณ ูุณุฎู ูุฎุตูุต ุจู ุฎูุฏ ุงุฒ ูุชุฏูุง ุชุนุฑู ุดุฏู ุฏุฑ ูุงุณุท ุฑุง ุงุฑุงุฆู ูโุฏูุฏ ู ุฑูุชุงุฑ ูุฑุจูุท ุจู ุขู ูุถุนุช ุฎุงุต ุฑุง ฺฉูพุณููู ูโฺฉูุฏ.
    * **ฺฉูุงุณ `BuildingEnergyContext`:** ุงู ฺฉูุงุณ ฺฉ ุงุฑุฌุงุน ุจู ุดุก ูุถุนุช ูุนู (`private SystemState currentState`) ุฑุง ูฺฏูุฏุงุฑ ูโฺฉูุฏ. ููุช ูุชุฏ ูุงููุฏ `getStatus()` ุฑู ุงู ฺฉูุงุณ ูุฑุงุฎูุงู ูโุดูุฏุ ุจู ุณุงุฏฺฏ ูุฑุงุฎูุงู ุฑุง ุจู ุดุก ูุถุนุช ูุนู ูุงฺฏุฐุงุฑ ูโฺฉูุฏ. ูุชุฏ `changeState()` ูุณุฆูู ุงูุชูุงู Context ุจู ฺฉ ูุถุนุช ุฌุฏุฏ ุงุณุช.

### ุงูฺฏู Strategy
ุงูฺฏู Strategy ฺฉ ุงูฺฏู ุทุฑุงุญ ุฑูุชุงุฑ ุงุณุช ฺฉู ุงูฺฉุงู ุงูุชุฎุงุจ ฺฉ ุงูฺฏูุฑุชู ุฏุฑ ุฒูุงู ุงุฌุฑุง ุฑุง ูุฑุงูู ูโฺฉูุฏ. ุงู ุงูฺฏู ุฎุงููุงุฏูโุง ุงุฒ ุงูฺฏูุฑุชูโูุง ุฑุง ุชุนุฑู ฺฉุฑุฏูุ ูุฑ ฺฉ ุฑุง ฺฉูพุณููู ูโฺฉูุฏ ู ุขูโูุง ุฑุง ูุงุจู ุชุนูุถ ูโุณุงุฒุฏ.

* **ฺุฑุง ุงุณุชูุงุฏู ุดุฏ:** ุณุณุชู ูุงุฒ ุฏุงุฑุฏ ูุฒููโูุง ุงูุฑฺ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุงุณุชโูุง ูุฎุชูู ูุญุงุณุจู ฺฉูุฏ: **ุชุนุฑูู ูุนููู**ุ **ุชุนุฑูู ุณุงุนุงุช ุงูุฌ ูุตุฑู** ู **ุชุนุฑูู ุณุจุฒ**. ุงู ุณุงุณุชโูุง ูโุชูุงููุฏ ุฏุฑ ูุฑ ุฒูุงู ุชูุณุท ูุฏุฑ ุชุบุฑ ฺฉููุฏ. ุงูฺฏู Strategy ุจุฑุง ุงู ฺฉุงุฑ ุงุฏูโุขู ุงุณุชุ ุฒุฑุง ุงุฌุงุฒู ูโุฏูุฏ ุงูฺฏูุฑุชู ูุญุงุณุจู ูุฒูู ุจู ุตูุฑุช ูพูุง ู ุจุฏูู ุชุบุฑ ฺฉูุงุณ Context ฺฉู ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉูุฏุ ุชุนูุถ ุดูุฏ.

* **ฺฺฏููู ูพุงุฏูโุณุงุฒ ุดุฏ:**
    * **ูุงุณุท `CostCalculationStrategy`:** ุงู ูุงุณุท ฺฉ ูุชุฏ ูุงุญุฏ ุจู ูุงู `calculateCost(int energyUnits)` ุฑุง ุชุนุฑู ูโฺฉูุฏ ฺฉู ุจู ุนููุงู ูุฑุงุฑุฏุงุฏ ุจุฑุง ุชูุงู ุงูฺฏูุฑุชูโูุง ููุชโฺฏุฐุงุฑ ุนูู ูโฺฉูุฏ.
    * **ฺฉูุงุณโูุง Strategy ูุดุฎุต:** `StandardTariff`ุ `PeakHoursTariff` ู `GreenModeTariff` ุงุณุชุฑุงุชฺโูุง ูุดุฎุต ูุณุชูุฏ. ูุฑ ฺฉูุงุณ ูุชุฏ `calculateCost` ุฑุง ุจุง ููุทู ููุชโฺฏุฐุงุฑ ุฎุงุต ุฎูุฏ ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ (ูุซูุงู `energyUnits * 500.0` ุจุฑุง ุชุนุฑูู ูุนููู).
    * **ฺฉูุงุณ `BuildingEnergyContext`:** ุงู ฺฉูุงุณ ููฺูู ฺฉ ุงุฑุฌุงุน ุจู ุงุณุชุฑุงุชฺ ูุนู (`private CostCalculationStrategy costStrategy`) ุฑุง ูฺฏูุฏุงุฑ ูโฺฉูุฏ. ูุชุฏ `setCostStrategy()` ุจู ูุฏุฑ ุงุฌุงุฒู ูโุฏูุฏ ุงู ุดุก ุงุณุชุฑุงุชฺ ุฑุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุชุบุฑ ุฏูุฏ. ููุช ูุชุฏ `simulateCost()` ูุฑุงุฎูุงู ูโุดูุฏุ ูุญุงุณุจู ุฑุง ุจู ูุฑ ุดุก ุงุณุชุฑุงุชฺ ฺฉู ุฏุฑ ุขู ูุญุธู ูุนุงู ุงุณุชุ ูุงฺฏุฐุงุฑ ูโฺฉูุฏ.

## ฒ. ุฑูฺฉุฑุฏ ุชูุณุนู ูุจุชู ุจุฑ ุขุฒููู (TDD) ๐งช
ฺฉู ูพุฑูฺู ุจุง ูพุฑู ุงุฒ ุฌุฑุงู ฺฉุงุฑ TDD ุชูุณุนู ุงูุช ุชุง ุงุฒ ุตุญุช ู ูุงุจูุช ูฺฏูุฏุงุฑ ุขู ุงุทููุงู ุญุงุตู ุดูุฏ. ุงู ูุฑุขูุฏ ุงุฒ ฺุฑุฎู **ยซูุฑูุฒ-ุณุจุฒ-ุจุงุฒุขุฑุงยป** ูพุฑู ูโฺฉูุฏ.

**ฺุฑุฎู TDD:**

* **ูุฑูุฒ (RED) - ููุดุชู ฺฉ ุชุณุช ูุงูููู:** ูุจู ุงุฒ ููุดุชู ูุฑฺฏููู ฺฉุฏ ูพุงุฏูโุณุงุฒุ ฺฉ ุชุณุช ูุงุญุฏ ุจุฑุง ุชุนุฑู ุนููฺฉุฑุฏ ููุฑุฏ ูุธุฑ ุงุฌุงุฏ ุดุฏ. ุจู ุนููุงู ูุซุงูุ ุชุณุช `testChangeStateFromActiveToEco()` ุงุจุชุฏุง ููุดุชู ุดุฏ. ุงุฌุฑุง ุงู ุชุณุช ุฏุฑ ุงุจุชุฏุง ููุฌุฑ ุจู ุดฺฉุณุช ูโุดุฏ ุฒุฑุง ูุชุฏ `changeState` ูููุฒ ูพุงุฏูโุณุงุฒ ูุดุฏู ุจูุฏ.

   

* **ุณุจุฒ (GREEN) - ููุดุชู ฺฉุฏ ุจุฑุง ูพุงุณ ฺฉุฑุฏู ุชุณุช:** ุญุฏุงูู ููุฏุงุฑ ฺฉุฏ ูุงุฒู ุฏุฑ ฺฉูุงุณโูุง `BuildingEnergyContext` ู `EcoModeState` ููุดุชู ุดุฏ ุชุง ุชุณุช ูุงููููุ ูพุงุณ ุดูุฏ. ูุฏู ุฏุฑ ุงู ูุฑุญูู ุตุฑูุงู ุฑุณุฏู ุจู ููุงุฑ ยซุณุจุฒยป ุงุณุชุ ูู ููุดุชู ฺฉุฏ ุจโููุต.
  
<img width="1920" height="1029" alt="Screenshot (2671)" src="https://github.com/user-attachments/assets/234e2eb8-73b4-43f2-8a5d-16b076e73bd4" />
<img width="1920" height="1028" alt="Screenshot (2670)" src="https://github.com/user-attachments/assets/b378ee3b-876f-4e64-ba4f-9f08cd0faaf0" />
<img width="1617" height="995" alt="Screenshot (2686)" src="https://github.com/user-attachments/assets/e27dbc57-790d-4c1f-b651-a6ded4544a2f" />
<img width="1591" height="939" alt="Screenshot (2687)" src="https://github.com/user-attachments/assets/b4b2b20b-fae9-4d24-9681-afa59d4c694c" />

* **ุจุงุฒุขุฑุง (REFACTOR) - ุชูุฒ ฺฉุฑุฏู ฺฉุฏ:** ุจุง ุฏุงุดุชู ุดุจฺฉู ุงููุช ุชุณุชโูุง ูพุงุณ ุดุฏูุ ฺฉุฏ ูพุงุฏูโุณุงุฒ ุดุฏู ุจุฑุง ุจูุจูุฏ ูุถูุญุ ฺฉุงุฑุง ู ุญุฐู ุชฺฉุฑุงุฑูุง ุจุงุฒุจู ู ุจูุจูุฏ ุฏุงุฏู ุดุฏุ ุฏุฑ ุญุงู ฺฉู ุงุทููุงู ุญุงุตู ูโุดุฏ ฺฉู ุชุณุชโูุง ููฺูุงู ูพุงุณ ูโุดููุฏ.

ุงู ูุฑุขูุฏ ุจุฑุง ูุฑ ูฺฺฏุ ุงุฒ ุชุบุฑ ูุถุนุชโูุง ฺฏุฑูุชู ุชุง ูุญุงุณุจุงุช ูุฒููุ ุชฺฉุฑุงุฑ ุดุฏ. ุฏู ูุฌููุนู ุชุณุช ุชูุณุนู ุฏุงุฏู ุดุฏ:
* **`BuildingEnergyContextTest`:** ุชุณุชโูุง ูุงุญุฏ ุจุฑุง ููุทู ุงุตูุ ุชุบุฑ ูุถุนุชโูุง ู ุงุฌุฑุง ุงุณุชุฑุงุชฺ.
* **`MainTest`:** ุชุณุชโูุง ฺฉูพุงุฑฺูโุณุงุฒ ุจุฑุง ุฑุงุจุท ุฎุท ูุฑูุงูุ ุดุจูโุณุงุฒ ูุฑูุฏ ฺฉุงุฑุจุฑ ู ุชุฃุฏ ุฎุฑูุฌ ฺฉูุณูู ุจุฑุง ุงุทููุงู ุงุฒ ุนููฺฉุฑุฏ ุตุญุญ ุญููู ุจุฑูุงูู ู ุชุนุงููุงุช ฺฉุงุฑุจุฑ.
<img width="1919" height="1030" alt="Screenshot (2688)" src="https://github.com/user-attachments/assets/51e5ffc5-6a4b-4b85-85c6-7ba65c4576ce" />
<img width="1920" height="1021" alt="Screenshot (2689)" src="https://github.com/user-attachments/assets/1ef73915-3020-42ee-a799-1574e35a5123" />



</div>
